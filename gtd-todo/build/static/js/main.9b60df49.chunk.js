(this["webpackJsonpgtd-todo"]=this["webpackJsonpgtd-todo"]||[]).push([[0],{13:function(e,t,a){e.exports=a(24)},18:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(3),i=a.n(r),s=(a(18),a(5)),c=a(6),l=a(9),d=(a(19),a(20),function(e){return o.a.createElement("div",{className:"Task"},o.a.createElement("div",{className:e.isDone?"Checked":"Unchecked"},o.a.createElement("button",{className:"CheckBox",onClick:e.done},o.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z"}))),o.a.createElement("input",{type:"text",placeholder:"New task",onChange:e.change,value:e.name}),o.a.createElement("select",{onChange:e.rankChange,value:e.rank},o.a.createElement("option",{value:"A"},"A"),o.a.createElement("option",{value:"B"},"B"),o.a.createElement("option",{value:"C"},"C")),o.a.createElement("div",{className:"InputNum"},o.a.createElement("input",{type:"number",onChange:e.taskMinitesChange,value:e.taskMinites}),"min"),o.a.createElement("button",{className:"Trash",onClick:e.delete},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M21 6l-3 18h-12l-3-18h2.028l2.666 16h8.611l2.666-16h2.029zm-4.711-4c-.9 0-1.631-1.099-1.631-2h-5.316c0 .901-.73 2-1.631 2h-5.711v2h20v-2h-5.711z"})))))}),u=a(10),m=(a(21),a(8)),f=a(12),k=a.n(f);Object(m.c)((function(){return o.a.createElement("span",null,"::")}));function h(e,t){var a=Object(n.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),o=Object(l.a)(a,2),r=o[0],i=o[1];return[r,function(t){try{var a=t instanceof Function?t(r):t;i(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]}var v=function(e){var t,a,n=h("taskState",{todayTasks:[{id:"asdfas",name:"\u30a2\u30d7\u30ea\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b",isDone:!0,endTime:Date.parse(202/21),taskMinites:10,rank:"A"},{id:"afffdjkdk",name:"Task \u3092\u767b\u9332\u3059\u308b",isDone:!1,endTime:Date(),taskMinites:20,rank:"A"}]}),r=Object(l.a)(n,2),i=r[0],f=r[1],v=h("progressState",[10,30]),g=Object(l.a)(v,2),p=g[0],b=g[1],y=o.a.memo(Object(m.a)((function(e){var t=e.value;return o.a.createElement("li",null,o.a.createElement(d,{key:t.id,name:t.name,isDone:t.isDone,endTime:t.endTime,rank:t.rank,taskMinites:t.taskMinites,taskMinitesChange:function(e){return x(e,t.id)},done:function(e){return T(e,t.id)},delete:function(){return M(t.JSONindex)},rankChange:function(e){return D(e,t.id)},change:function(e){return N(e,t.id)}}))}))),w=o.a.memo(Object(m.b)((function(e){var t=e.children;return o.a.createElement("ul",null,t)}))),E=o.a.memo((function(){return o.a.createElement(w,{onSortEnd:function(e){var t=e.oldIndex,a=e.newIndex;f((function(e){var n=e.todayTasks;return{todayTasks:k()(n,t,a)}}))},lockAxis:"y",pressDelay:"300"},i.todayTasks.map((function(e,t){return o.a.createElement(y,{key:"item-".concat(e.id),index:t,value:e})})))})),T=function(e,t){var a=i.todayTasks.findIndex((function(e){return e.id===t})),n=Object(c.a)({},i.todayTasks[a]);n.isDone=!n.isDone;var o=Object(s.a)(i.todayTasks);o[a]=n,f({todayTasks:o});var r=0,l=0;i.todayTasks.forEach((function(e,t,a){r+=Number(e.taskMinites),e.isDone&&(l+=Number(e.taskMinites))})),n.isDone?l+=Number(n.taskMinites):l-=Number(n.taskMinites),b([l,r])},N=function(e,t){var a=i.todayTasks.findIndex((function(e){return e.id===t})),n=Object(c.a)({},i.todayTasks[a]);n.name=e.target.value;var o=Object(s.a)(i.todayTasks);o[a]=n,f({todayTasks:o})},x=function(e,t){var a=i.todayTasks.findIndex((function(e){return e.id===t})),n=Object(c.a)({},i.todayTasks[a]),o=Number(e.target.value)-Number(n.taskMinites);console.log(e.target.value),console.log(n.taskMinites),n.taskMinites=e.target.value;var r=Object(s.a)(i.todayTasks);r[a]=n,f({todayTasks:r});var l=0,d=0;i.todayTasks.forEach((function(e,t,a){l+=Number(e.taskMinites),e.isDone&&(d+=Number(e.taskMinites))})),l+=Number(o),n.isDone&&(d+=Number(o)),b([d,l])},D=function(e,t){var a=i.todayTasks.findIndex((function(e){return e.id===t})),n=Object(c.a)({},i.todayTasks[a]);n.rank=e.target.value;var o=Object(s.a)(i.todayTasks);o[a]=n,f({todayTasks:o})},M=function(e){var t=i.todayTasks;t.splice(e,1),C(f({todayTasks:t}))},C=function(){var e=0,t=0;i.todayTasks.forEach((function(a,n,o){e+=Number(a.taskMinites),a.isDone&&(t+=Number(a.taskMinites))})),b([t,e])};return p[1]===p[0]&&0!==p[0]?(t={marginTop:"35px",transitionDuration:"1s"},a={animation:"donepo 2s infinite"}):t={transitionDuration:"1s",position:"absolute",left:"-100px",top:"-100px"},o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Today's tasks"),o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"ProgressOuter",style:a},o.a.createElement(u.a,{value:100*Number(p[0])/Number(p[1]),strokeWidth:15,styles:Object(u.b)({rotation:.5,strokeLinecap:"butt",pathTransitionDuration:1,pathColor:"#507cda",textColor:"#1c64ff",trailColor:"#c6c6e6",backgroundColor:"#3e98c7"})},o.a.createElement("div",{className:"ProgressInner",style:{display:"flex",alignItems:"flex-center"}},o.a.createElement("div",{className:"ProgressInnerInner"},o.a.createElement("div",{style:{fontSize:"16vw",textAlign:"center",color:"#307cea",textShadow:"0px 0px 7px #1c64ff"}},p[0]),o.a.createElement("div",{style:{fontSize:"5vw",color:"#9f9ea7",display:"flex",marginLeft:"40%"}},"/",o.a.createElement("div",{style:{fontSize:"5vw",color:"#507cda"}},p[1]))))))),o.a.createElement("div",{style:t},o.a.createElement("a",{id:"tweetButton",href:"https://twitter.com/share?ref_src=twsrc%5Etfw",className:"twitter-share-button","data-size":"large","data-text":"Completed all today's tasks! Total:"+p[0]+"min","data-url":"https://toyoshimahidenori.github.io/ToDo/gtd-todo/build/index.html","data-hashtags":"todo","data-show-count":"false"},"Tweet")),o.a.createElement("progress",{id:"progressbar",max:p[1],value:p[0]}),o.a.createElement(E,null),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){var e=i.todayTasks;e.push({id:Math.random().toString(32).substring(2),name:"",isDone:!1,endTime:Date(),taskMinites:30,rank:"A"}),f({todayTasks:e}),C()}},"Add task")),o.a.createElement("small",null,"\xa9\ufe0eToyoshima Hidenori 2020, v0.0.1"))},g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ToDo/gtd-todo/build",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/ToDo/gtd-todo/build","/service-worker.js");g?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):p(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):p(t,e)}))}}()}},[[13,1,2]]]);
//# sourceMappingURL=main.9b60df49.chunk.js.map